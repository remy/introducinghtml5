<!doctype html>
<meta charset=utf-8>
<title>Introducing HTML5: chapter 2 errata</title>
<link rel="stylesheet" href="/ih5.css" type="text/css" />
<h1>Errata for Chapter 2</h1>
<dl>
<dt>1,2 editions, Page 26 - 27</dt>
<dd><p>The <code>&lt;time&gt;</code> element was removed, and restored. It's not fully specified yet, but the good news is that the new incarnation is more powerful than it was before.</p> 
<p>Previously, you could only mark up precise dates. So, 13 November 1905 could be expressed in HTML <code>&lt;time datetime="1905-11-13"></code> but November 1905 couldn&#8217;t be. This is a problem for historians where sometimes the precise date isn&#8217;t known.</p>
<p>Now, &#8220;fuzzy dates&#8221; are possible:</p>
<ul>
<li><code>&lt;time datetime="1905"&gt;</code> means the year 1905</li>
<li><code>&lt;time datetime="1905-11"&gt;</code> means November 1905</li>
<li><code>&lt;time datetime="11-13"&gt;</code> means 13 November (any year)</li>
<li><code>&lt;time datetime="1905-W21"&gt;</code> means week 21 of 1905</li>
</ul>
<p>You can also separate the date and time with a space rather than a &#8220;T&#8221; (but you don&#8217;t have to). So both of these are valid:</p>
<ul>
<li><code>&lt;time datetime="1905-11-13T09:00"&gt;</code></li>
<li><code>&lt;time datetime="1905-11-13 09:00"&gt;</code></li>
</ul>
<p>In New! Improved! HTML5 &lt;time&gt;, you can represent durations, with the prefix &#8220;P&#8221; for &#8220;period&#8221;. This uses &#8220;W&#8221; (or &#8220;w&#8221;) for weeks, &#8220;D&#8221; for days, &#8220;H&#8221; for hours, &#8220;M&#8221; for minutes and &#8220;XQ&#8221; for seconds. Just kidding &#8211; that&#8217;s &#8220;S&#8221;. </p>
<p>You can separate them with spaces (but you don&#8217;t have to). So <code>&lt;time datetime="P4W3D5H"&gt;</code> is a duration of 4 weeks, 3 days and 5 hours, as is <code>&lt;time datetime="P4W 3D 5H"&gt;</code>. A duration of 3 hours, 2 minutes and 23.005 seconds is <code>&lt;time datetime="P3H2M23.005S"&gt;</code> or <code>&lt;time datetime="P3H 2M 23.005S"&gt;</code>.</p>
<p>This can be boiled down by a machine to a precise number of seconds. Because of this, you can&#8217;t specify a duration in terms of months, because a month isn&#8217;t a precise number of seconds; a month can last from 28 to 31 days. Similarly, a year isn&#8217;t a precise number of seconds; it&#8217;s 12 months and February sometimes has an extra day.</p>
<p>You still can&#8217;t represent dates before the Christian era, as years can&#8217;t be negative.</p>
<h3>pubdate</h3>
<p>The pubdate attribute (a boolean that indicates that this particular date is the publication date of the parent &lt;article&gt; (or, if there is none, the whole document) is currently missing from the W3C version of the spec, but is still current in the WHATWG version. Its status is unclear to me (but I&#8217;m still using it). [January 2012]</p>
</dd>
<dt>1 edition, Page 50 (first paragraph)</dt>
<dd><p>"Some of these obviously match HTML5 elements such as <code>&lt;article&gt;</code>, <code>&lt;form&gt;</code>, <code>&lt;heading&gt;</code> &hellip;"</p>
<p><code>&lt;heading&gt;</code> should read <code>&lt;header&gt;</code>. What a numpty, eh?</p>
<dt>1 edition, Page 53, <code>&lt;figure&gt;</code> section</dt>
<dd>
<p>See the <a href="/examples/ch02/figure.html">example</a>, coded:</p>
<pre><code>
&lt;figure&gt;
&lt;img src=welcome.jpg 
  alt=""&gt; <!-- no alt, as it's covered by the caption -->
&lt;figcaption&gt;
Bruce and Remy welcome questions
&lt;small&gt;Photo &copy; Bruce's mum&lt;/small&gt;
&lt;/figcaption&gt;
&lt;/figure&gt;
</code></pre>
<p>Since the book went to press, Steve Faulkner of The Paciello Group pointed out a problem with the alt text in this example.</p>
<p>In figures where the <code>figcaption</code> text tells you all you need to know ("Angelina Jolie and Remy Sharp pose on the red carpet at the premier of 'HTML5! the musical'"), don't duplicate this in alt text.</p>
<p>This is what I've done above, except that I've made a mistake: if an image has empty alt text (eg <code>alt=""</code>) it is regarded as being presentational only, and having an implied ARIA <code>role=presentation</code> which would remove the element from the page's accessibility tree (no user agent does this, yet, but that's the general plan).</p>
<p>As the image is not purely presentational (if it were, we wouldn't be marking it up as a figure and giving it a caption) we shouldn't have empty alt, we should use no alternate text at all, e.g.</p>
<code>&lt;img src=welcome.jpg&gt;</code>
<p>Steve has written a very useful document <a href="http://dev.w3.org/html5/alt-techniques/">HTML5: Techniques for providing useful text alternatives</a> (that is a First Public Working Draft, therefore very, very susceptible to change) in which he writes</p>
<blockquote>
Circumstances in which it is not appropriate to use an empty or null alt attribute:
An image is contained within a figure element and has an associated caption provided using the figcaption element.
<footer><a href="http://dev.w3.org/html5/alt-techniques/#hf">HTML5: Techniques for providing useful text alternatives: The figure and figcaption elements</a></footer>
</blockquote>
<p>On the other hand, you may think that the example above needs alt text 
<code>&lt;img src=welcome.jpg alt="Bruce and Remy glower menacingly into the camera"&gt;</code> because otherwise the joke isn't communicated to a screenreader user.</p>

<p>As an accessibility filip, it's useful to add  ARIA attributes to associate the image with the caption until browsers "understand" the <code>figure</code> element and do this automatically.</p>
<p>When there is no alt text, use <code>aria-labelledby</code> to associate the <code>id</code> of the <code>figcaption</code> to the <code>img</code>:<p>
<pre><code>&lt;figure&gt;
&lt;img src=welcome.jpg <mark>aria-labelledby=figcap219</mark>&gt;
&lt;figcaption <mark>id=figcap219</mark>&gt;
Angelina Jolie and Remy Sharp pose on the red carpet at the premier of 'HTML5! the musical'
&lt;/figcaption&gt;
&lt;/figure&gt;</code></pre>
<p>If there is alt text, use <code>aria-describedby</code>:</p>
<pre><code>&lt;figure&gt;
&lt;img src=welcome.jpg 
alt="Bruce and Remy glower menacingly into the camera"
<mark>aria-describedby=figcap219</mark>&gt;
&lt;figcaption <mark>id=figcap219</mark>&gt;
Bruce and Remy welcome questions
&lt;small&gt;Photo &copy; Bruce's mum&lt;/small&gt;
&lt;/figcaption&gt;
&lt;/figure&gt;</code></pre>
<p></p>
</dd>
</dl>
<footer><p>Errata notice: If you spot any simple typos, please email <a href="mailto:errata@peachpit.com?subject=Introducing%20;HTML5:%20;typo">errata@peachpit.com</a>. If you find a content error, please mail <a href="mailto:authors@introducinghtml5.com">authors@introducinghtml5.com</a>.</p></footer>
